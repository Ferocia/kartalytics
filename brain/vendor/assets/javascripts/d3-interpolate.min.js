!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate"],e):e(t.d3=t.d3||{},t.d3)}(this,function(t,e){"use strict";function n(t,e){var n=[],r=[];return t.length&&function t(e,u){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var l=Array(e.length-1),a=0;a<l.length;a++)0===a&&n.push(e[0]),a===l.length-1&&r.push(e[a+1]),l[a]=[(1-u)*e[a][0]+u*e[a+1][0],(1-u)*e[a][1]+u*e[a+1][1]];t(l,u)}}(t,e),{left:n,right:r.reverse()}}function r(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function u(t,e,u){var l=[[t.x,t.y]];return null!=e.x1&&l.push([e.x1,e.y1]),null!=e.x2&&l.push([e.x2,e.y2]),l.push([e.x,e.y]),function(t,e){for(var r=[],u=t,l=1/(e=e||2),a=0;a<e-1;a++){var i=n(u,l/(1-l*a));r.push(i.left),u=i.right}return r.push(u),r}(l,u).map(r)}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};function i(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function o(t){var e=(t=t.trim().replace(/ /g,","))[0],n=t.substring(1).split(",");return a[e.toUpperCase()].reduce(function(t,e,r){return t[e]=+n[r],t},{type:e})}function p(t){var e=t.type;return""+e+a[e.toUpperCase()].map(function(e){return t[e]}).join(",")}function h(t,e,n){var r=t.length-1,a=e.length-1,o=r/a,p=i(a).reduce(function(e,r,u){var l=Math.floor(o*u);if(n&&l<t.length-1&&n(t[l],t[l+1])){var a=o*u%1<.5;e[l]&&(a?l>0?l-=1:l<t.length-1&&(l+=1):l<t.length-1?l+=1:l>0&&(l-=1))}return e[l]=(e[l]||0)+1,e},[]).reduce(function(e,n,r){if(r===t.length-1){var a=i(n,l({},t[t.length-1]));return"M"===a[0].type&&a.forEach(function(t){t.type="L"}),e.concat(a)}return e.concat((o=t[r],p=t[r+1],h=n,y=[],"L"===p.type||"Q"===p.type||"C"===p.type?y=y.concat(u(o,p,h)):("M"===(c=l({},o)).type&&(c.type="L"),(y=y.concat(i(h-1).map(function(){return c}))).push(p)),y));var o,p,h,c,y},[]);return p.unshift(t[0]),p}function c(t){return null==t?"":t.trim().replace(/[Z]/gi,"").replace(/\s+/," ").replace(/([MLCSTQAHV])\s*/gi,"$1")}t.interpolatePath=function(t,n,r){var u=c(t),l=c(n),a=""===u?[]:u.split(/(?=[MLCSTQAHV])/gi),i=""===l?[]:l.split(/(?=[MLCSTQAHV])/gi);if(!a.length&&!i.length)return function(){return""};a.length?i.length||i.push(a[0]):a.push(i[0]);var y=a.map(o),f=i.map(o);0!==Math.abs(i.length-a.length)&&(f.length>y.length?y=h(y,f,r):f.length<y.length&&(f=h(f,y,r)));var g=(y=y.map(function(t,e){return n=t,r=f[e],l={x1:"x",y1:"y",x2:"x",y2:"y"},a=["xAxisRotation","largeArcFlag","sweepFlag"],n.type!==r.type&&"M"!==r.type.toUpperCase()&&(u={},Object.keys(r).forEach(function(t){var e=r[t],i=n[t];void 0===i&&(a.includes(t)?i=e:(void 0===i&&l[t]&&(i=n[l[t]]),void 0===i&&(i=0))),u[t]=i}),u.type=r.type,n=u),n;var n,r,u,l,a})).map(p).join(""),s=f.map(p).join("");null!=t&&"Z"!==t[t.length-1]||null!=n&&"Z"!==n[n.length-1]||(g+="Z",s+="Z");var x=e.interpolateString(g,s);return function(t){return 1===t?null==n?"":n:x(t)}},Object.defineProperty(t,"__esModule",{value:!0})});
